import{u as C,r as l,j as s,C as u,a as h,b as m,Q as p,c as w,M as t,I as n,B as x}from"./index-B1mjx8Bh.js";import{u as v,c as N}from"./user-BnCWcz52.js";const S=()=>{const{user:o,login:j}=C(),[c,P]=l.useState(o.name),[i,g]=l.useState(o.email),[r,d]=l.useState({currentPassword:"",newPassword:""}),y=async e=>{e.preventDefault();try{const a=await v({name:c,email:i});a.data&&a.data.user&&j(a.data.user),alert("Profile updated successfully.")}catch{alert("Failed to update profile.")}},f=async e=>{e.preventDefault();try{const a=await N(r);alert(a.data.message||"Password changed successfully."),d({currentPassword:"",newPassword:""})}catch(a){alert(a.response?.data?.message||"Failed to change password.")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(u,{children:[s.jsxs(h,{children:[s.jsx(m,{children:"My Profile"}),s.jsx(p,{children:"Update your personal information."})]}),s.jsx("form",{onSubmit:y,children:s.jsxs(w,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"name",children:"Full Name"}),s.jsx(n,{id:"name",value:c,onChange:e=>P(e.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"email",children:"Email Address"}),s.jsx(n,{id:"email",type:"email",value:i,onChange:e=>g(e.target.value)})]}),s.jsx(x,{type:"submit",children:"Save Changes"})]})})]}),s.jsxs(u,{children:[s.jsxs(h,{children:[s.jsx(m,{children:"Change Password"}),s.jsx(p,{children:"Choose a new, strong password."})]}),s.jsx("form",{onSubmit:f,children:s.jsxs(w,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(n,{id:"currentPassword",type:"password",value:r.currentPassword,onChange:e=>d({...r,currentPassword:e.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"newPassword",children:"New Password"}),s.jsx(n,{id:"newPassword",type:"password",value:r.newPassword,onChange:e=>d({...r,newPassword:e.target.value})})]}),s.jsx(x,{type:"submit",children:"Change Password"})]})})]})]})};export{S as default};
