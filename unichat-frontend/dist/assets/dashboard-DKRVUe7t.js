import{u as j,r as s,j as e,C as n,a as l,b as c,c as b,L as i}from"./index-B1mjx8Bh.js";import{g as C}from"./user-BnCWcz52.js";import{D as v,a as f,b as k,c as T,d as S}from"./dialog-B8RRTEFU.js";import{C as N}from"./CreateTaskForm-SDD3SKx2.js";import{S as h}from"./StatCard-DFmYPHz0.js";const L=()=>{const{user:g}=j(),[r,u]=s.useState({tasks:0,upcomingEvents:0}),[t,m]=s.useState(!0),[p,d]=s.useState(!1),o=async()=>{try{const a=await C();u(a.data)}catch(a){console.error("Failed to fetch dashboard stats",a)}finally{m(!1)}};s.useEffect(()=>{o()},[]);const x=()=>{d(!1),o()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{children:e.jsx(l,{children:e.jsxs(c,{className:"text-2xl",children:["Welcome back, ",g?.name,"!"]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(h,{title:"Active Tasks",value:r.tasks,loading:t}),e.jsx(h,{title:"Upcoming Events",value:r.upcomingEvents,loading:t})]}),e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{children:"Quick Actions"})}),e.jsxs(b,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(v,{open:p,onOpenChange:d,children:[e.jsx(f,{asChild:!0,children:e.jsx("button",{className:"p-4 border-2 border-dashed rounded-lg hover:border-blue-500 hover:bg-blue-50",children:"New Task"})}),e.jsxs(k,{children:[e.jsx(T,{children:e.jsx(S,{children:"Create a New Task"})}),e.jsx(N,{onTaskCreated:x})]})]}),e.jsx(i,{to:"/calendar",className:"p-4 border-2 border-dashed rounded-lg hover:border-green-500 hover:bg-green-50",children:"Add Event"}),e.jsx(i,{to:"/chat",className:"p-4 border-2 border-dashed rounded-lg hover:border-purple-500 hover:bg-purple-50",children:"Start Chat"})]})]})]})};export{L as default};
