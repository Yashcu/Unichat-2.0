import{g as Ne,r,j as e,h as _,i as Re,k as ut,m as Pe,n as pt,o as ft,p as je,q as ht,s as L,A as mt,t as j,v as G,w as xt,x as Me,y as gt,z as vt,D as St,E as wt,F as yt,G as Ct,H as Tt,J as bt,K as It,d as oe,P as M,C as Nt,a as jt,b as Et,c as Pt,B as ie,M as _t}from"./index-B1mjx8Bh.js";import{a as Rt,d as Mt,u as At}from"./admin-Elx43CVw.js";import{D as Dt,b as Ot,c as kt,d as Lt,e as Bt,f as Vt}from"./dialog-B8RRTEFU.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ut=Ne("check",Ht);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ae=Ne("chevron-down",Ft);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wt=Ne("chevron-up",zt);function _e(o,[n,t]){return Math.min(t,Math.max(n,o))}function Kt(o){const n=r.useRef({value:o,previous:o});return r.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var De=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$t="VisuallyHidden",Gt=r.forwardRef((o,n)=>e.jsx(_.span,{...o,ref:n,style:{...De,...o.style}}));Gt.displayName=$t;var Yt=[" ","Enter","ArrowUp","ArrowDown"],qt=[" ","Enter"],Q="Select",[pe,fe,Xt]=ht(Q),[ne,Oo]=ft(Q,[Xt,Re]),he=Re(),[Zt,Y]=ne(Q),[Jt,Qt]=ne(Q),Oe=o=>{const{__scopeSelect:n,children:t,open:c,defaultOpen:l,onOpenChange:u,value:s,defaultValue:a,onValueChange:i,dir:p,name:g,autoComplete:S,disabled:I,required:T,form:m}=o,d=he(n),[x,w]=r.useState(null),[h,v]=r.useState(null),[z,A]=r.useState(!1),re=ut(p),[E,O]=Pe({prop:c,defaultProp:l??!1,onChange:u,caller:Q}),[W,X]=Pe({prop:s,defaultProp:a,onChange:i,caller:Q}),B=r.useRef(null),V=x?m||!!x.closest("form"):!0,[K,H]=r.useState(new Set),U=Array.from(K).map(P=>P.props.value).join(";");return e.jsx(pt,{...d,children:e.jsxs(Zt,{required:T,scope:n,trigger:x,onTriggerChange:w,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:z,onValueNodeHasChildrenChange:A,contentId:je(),value:W,onValueChange:X,open:E,onOpenChange:O,dir:re,triggerPointerDownPosRef:B,disabled:I,children:[e.jsx(pe.Provider,{scope:n,children:e.jsx(Jt,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(P=>{H(k=>new Set(k).add(P))},[]),onNativeOptionRemove:r.useCallback(P=>{H(k=>{const F=new Set(k);return F.delete(P),F})},[]),children:t})}),V?e.jsxs(nt,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:S,value:W,onChange:P=>X(P.target.value),disabled:I,form:m,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},U):null]})})};Oe.displayName=Q;var ke="SelectTrigger",Le=r.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:c=!1,...l}=o,u=he(t),s=Y(ke,t),a=s.disabled||c,i=L(n,s.onTriggerChange),p=fe(t),g=r.useRef("touch"),[S,I,T]=st(d=>{const x=p().filter(v=>!v.disabled),w=x.find(v=>v.value===s.value),h=at(x,d,w);h!==void 0&&s.onValueChange(h.value)}),m=d=>{a||(s.onOpenChange(!0),T()),d&&(s.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(mt,{asChild:!0,...u,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rt(s.value)?"":void 0,...l,ref:i,onClick:j(l.onClick,d=>{d.currentTarget.focus(),g.current!=="mouse"&&m(d)}),onPointerDown:j(l.onPointerDown,d=>{g.current=d.pointerType;const x=d.target;x.hasPointerCapture(d.pointerId)&&x.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(m(d),d.preventDefault())}),onKeyDown:j(l.onKeyDown,d=>{const x=S.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&I(d.key),!(x&&d.key===" ")&&Yt.includes(d.key)&&(m(),d.preventDefault())})})})});Le.displayName=ke;var Be="SelectValue",Ve=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:c,style:l,children:u,placeholder:s="",...a}=o,i=Y(Be,t),{onValueNodeHasChildrenChange:p}=i,g=u!==void 0,S=L(n,i.onValueNodeChange);return G(()=>{p(g)},[p,g]),e.jsx(_.span,{...a,ref:S,style:{pointerEvents:"none"},children:rt(i.value)?e.jsx(e.Fragment,{children:s}):u})});Ve.displayName=Be;var eo="SelectIcon",He=r.forwardRef((o,n)=>{const{__scopeSelect:t,children:c,...l}=o;return e.jsx(_.span,{"aria-hidden":!0,...l,ref:n,children:c||"â–¼"})});He.displayName=eo;var to="SelectPortal",Ue=o=>e.jsx(xt,{asChild:!0,...o});Ue.displayName=to;var ee="SelectContent",Fe=r.forwardRef((o,n)=>{const t=Y(ee,o.__scopeSelect),[c,l]=r.useState();if(G(()=>{l(new DocumentFragment)},[]),!t.open){const u=c;return u?Me.createPortal(e.jsx(ze,{scope:o.__scopeSelect,children:e.jsx(pe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(We,{...o,ref:n})});Fe.displayName=ee;var D=10,[ze,q]=ne(ee),oo="SelectContentImpl",no=yt("SelectContent.RemoveScroll"),We=r.forwardRef((o,n)=>{const{__scopeSelect:t,position:c="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:s,side:a,sideOffset:i,align:p,alignOffset:g,arrowPadding:S,collisionBoundary:I,collisionPadding:T,sticky:m,hideWhenDetached:d,avoidCollisions:x,...w}=o,h=Y(ee,t),[v,z]=r.useState(null),[A,re]=r.useState(null),E=L(n,f=>z(f)),[O,W]=r.useState(null),[X,B]=r.useState(null),V=fe(t),[K,H]=r.useState(!1),U=r.useRef(!1);r.useEffect(()=>{if(v)return vt(v)},[v]),St();const P=r.useCallback(f=>{const[b,...R]=V().map(N=>N.ref.current),[y]=R.slice(-1),C=document.activeElement;for(const N of f)if(N===C||(N?.scrollIntoView({block:"nearest"}),N===b&&A&&(A.scrollTop=0),N===y&&A&&(A.scrollTop=A.scrollHeight),N?.focus(),document.activeElement!==C))return},[V,A]),k=r.useCallback(()=>P([O,v]),[P,O,v]);r.useEffect(()=>{K&&k()},[K,k]);const{onOpenChange:F,triggerPointerDownPosRef:$}=h;r.useEffect(()=>{if(v){let f={x:0,y:0};const b=y=>{f={x:Math.abs(Math.round(y.pageX)-($.current?.x??0)),y:Math.abs(Math.round(y.pageY)-($.current?.y??0))}},R=y=>{f.x<=10&&f.y<=10?y.preventDefault():v.contains(y.target)||F(!1),document.removeEventListener("pointermove",b),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",R,{capture:!0})}}},[v,F,$]),r.useEffect(()=>{const f=()=>F(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[F]);const[me,le]=st(f=>{const b=V().filter(C=>!C.disabled),R=b.find(C=>C.ref.current===document.activeElement),y=at(b,f,R);y&&setTimeout(()=>y.ref.current.focus())}),xe=r.useCallback((f,b,R)=>{const y=!U.current&&!R;(h.value!==void 0&&h.value===b||y)&&(W(f),y&&(U.current=!0))},[h.value]),ge=r.useCallback(()=>v?.focus(),[v]),te=r.useCallback((f,b,R)=>{const y=!U.current&&!R;(h.value!==void 0&&h.value===b||y)&&B(f)},[h.value]),ce=c==="popper"?ye:Ke,se=ce===ye?{side:a,sideOffset:i,align:p,alignOffset:g,arrowPadding:S,collisionBoundary:I,collisionPadding:T,sticky:m,hideWhenDetached:d,avoidCollisions:x}:{};return e.jsx(ze,{scope:t,content:v,viewport:A,onViewportChange:re,itemRefCallback:xe,selectedItem:O,onItemLeave:ge,itemTextRefCallback:te,focusSelectedItem:k,selectedItemText:X,position:c,isPositioned:K,searchRef:me,children:e.jsx(wt,{as:no,allowPinchZoom:!0,children:e.jsx(Ct,{asChild:!0,trapped:h.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:j(l,f=>{h.trigger?.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:f=>f.preventDefault(),...w,...se,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:j(w.onKeyDown,f=>{const b=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!b&&f.key.length===1&&le(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let y=V().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(f.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const C=f.target,N=y.indexOf(C);y=y.slice(N+1)}setTimeout(()=>P(y)),f.preventDefault()}})})})})})})});We.displayName=oo;var ro="SelectItemAlignedPosition",Ke=r.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:c,...l}=o,u=Y(ee,t),s=q(ee,t),[a,i]=r.useState(null),[p,g]=r.useState(null),S=L(n,E=>g(E)),I=fe(t),T=r.useRef(!1),m=r.useRef(!0),{viewport:d,selectedItem:x,selectedItemText:w,focusSelectedItem:h}=s,v=r.useCallback(()=>{if(u.trigger&&u.valueNode&&a&&p&&d&&x&&w){const E=u.trigger.getBoundingClientRect(),O=p.getBoundingClientRect(),W=u.valueNode.getBoundingClientRect(),X=w.getBoundingClientRect();if(u.dir!=="rtl"){const C=X.left-O.left,N=W.left-C,Z=E.left-N,J=E.width+Z,ve=Math.max(J,O.width),Se=window.innerWidth-D,we=_e(N,[D,Math.max(D,Se-ve)]);a.style.minWidth=J+"px",a.style.left=we+"px"}else{const C=O.right-X.right,N=window.innerWidth-W.right-C,Z=window.innerWidth-E.right-N,J=E.width+Z,ve=Math.max(J,O.width),Se=window.innerWidth-D,we=_e(N,[D,Math.max(D,Se-ve)]);a.style.minWidth=J+"px",a.style.right=we+"px"}const B=I(),V=window.innerHeight-D*2,K=d.scrollHeight,H=window.getComputedStyle(p),U=parseInt(H.borderTopWidth,10),P=parseInt(H.paddingTop,10),k=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),$=U+P+K+F+k,me=Math.min(x.offsetHeight*5,$),le=window.getComputedStyle(d),xe=parseInt(le.paddingTop,10),ge=parseInt(le.paddingBottom,10),te=E.top+E.height/2-D,ce=V-te,se=x.offsetHeight/2,f=x.offsetTop+se,b=U+P+f,R=$-b;if(b<=te){const C=B.length>0&&x===B[B.length-1].ref.current;a.style.bottom="0px";const N=p.clientHeight-d.offsetTop-d.offsetHeight,Z=Math.max(ce,se+(C?ge:0)+N+k),J=b+Z;a.style.height=J+"px"}else{const C=B.length>0&&x===B[0].ref.current;a.style.top="0px";const Z=Math.max(te,U+d.offsetTop+(C?xe:0)+se)+R;a.style.height=Z+"px",d.scrollTop=b-te+d.offsetTop}a.style.margin=`${D}px 0`,a.style.minHeight=me+"px",a.style.maxHeight=V+"px",c?.(),requestAnimationFrame(()=>T.current=!0)}},[I,u.trigger,u.valueNode,a,p,d,x,w,u.dir,c]);G(()=>v(),[v]);const[z,A]=r.useState();G(()=>{p&&A(window.getComputedStyle(p).zIndex)},[p]);const re=r.useCallback(E=>{E&&m.current===!0&&(v(),h?.(),m.current=!1)},[v,h]);return e.jsx(ao,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:T,onScrollButtonChange:re,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:e.jsx(_.div,{...l,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Ke.displayName=ro;var so="SelectPopperPosition",ye=r.forwardRef((o,n)=>{const{__scopeSelect:t,align:c="start",collisionPadding:l=D,...u}=o,s=he(t);return e.jsx(bt,{...s,...u,ref:n,align:c,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=so;var[ao,Ee]=ne(ee,{}),Ce="SelectViewport",$e=r.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:c,...l}=o,u=q(Ce,t),s=Ee(Ce,t),a=L(n,u.onViewportChange),i=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(pe.Slot,{scope:t,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:j(l.onScroll,p=>{const g=p.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:I}=s;if(I?.current&&S){const T=Math.abs(i.current-g.scrollTop);if(T>0){const m=window.innerHeight-D*2,d=parseFloat(S.style.minHeight),x=parseFloat(S.style.height),w=Math.max(d,x);if(w<m){const h=w+T,v=Math.min(m,h),z=h-v;S.style.height=v+"px",S.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,S.style.justifyContent="flex-end")}}}i.current=g.scrollTop})})})]})});$e.displayName=Ce;var Ge="SelectGroup",[lo,co]=ne(Ge),io=r.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o,l=je();return e.jsx(lo,{scope:t,id:l,children:e.jsx(_.div,{role:"group","aria-labelledby":l,...c,ref:n})})});io.displayName=Ge;var Ye="SelectLabel",uo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o,l=co(Ye,t);return e.jsx(_.div,{id:l.id,...c,ref:n})});uo.displayName=Ye;var ue="SelectItem",[po,qe]=ne(ue),Xe=r.forwardRef((o,n)=>{const{__scopeSelect:t,value:c,disabled:l=!1,textValue:u,...s}=o,a=Y(ue,t),i=q(ue,t),p=a.value===c,[g,S]=r.useState(u??""),[I,T]=r.useState(!1),m=L(n,h=>i.itemRefCallback?.(h,c,l)),d=je(),x=r.useRef("touch"),w=()=>{l||(a.onValueChange(c),a.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(po,{scope:t,value:c,disabled:l,textId:d,isSelected:p,onItemTextChange:r.useCallback(h=>{S(v=>v||(h?.textContent??"").trim())},[]),children:e.jsx(pe.ItemSlot,{scope:t,value:c,disabled:l,textValue:g,children:e.jsx(_.div,{role:"option","aria-labelledby":d,"data-highlighted":I?"":void 0,"aria-selected":p&&I,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...s,ref:m,onFocus:j(s.onFocus,()=>T(!0)),onBlur:j(s.onBlur,()=>T(!1)),onClick:j(s.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:j(s.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:j(s.onPointerDown,h=>{x.current=h.pointerType}),onPointerMove:j(s.onPointerMove,h=>{x.current=h.pointerType,l?i.onItemLeave?.():x.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:j(s.onPointerLeave,h=>{h.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:j(s.onKeyDown,h=>{i.searchRef?.current!==""&&h.key===" "||(qt.includes(h.key)&&w(),h.key===" "&&h.preventDefault())})})})})});Xe.displayName=ue;var ae="SelectItemText",Ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:c,style:l,...u}=o,s=Y(ae,t),a=q(ae,t),i=qe(ae,t),p=Qt(ae,t),[g,S]=r.useState(null),I=L(n,w=>S(w),i.onItemTextChange,w=>a.itemTextRefCallback?.(w,i.value,i.disabled)),T=g?.textContent,m=r.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:T},i.value),[i.disabled,i.value,T]),{onNativeOptionAdd:d,onNativeOptionRemove:x}=p;return G(()=>(d(m),()=>x(m)),[d,x,m]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:i.textId,...u,ref:I}),i.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Me.createPortal(u.children,s.valueNode):null]})});Ze.displayName=ae;var Je="SelectItemIndicator",Qe=r.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o;return qe(Je,t).isSelected?e.jsx(_.span,{"aria-hidden":!0,...c,ref:n}):null});Qe.displayName=Je;var Te="SelectScrollUpButton",et=r.forwardRef((o,n)=>{const t=q(Te,o.__scopeSelect),c=Ee(Te,o.__scopeSelect),[l,u]=r.useState(!1),s=L(n,c.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let a=function(){const p=i.scrollTop>0;u(p)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),l?e.jsx(ot,{...o,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop-i.offsetHeight)}}):null});et.displayName=Te;var be="SelectScrollDownButton",tt=r.forwardRef((o,n)=>{const t=q(be,o.__scopeSelect),c=Ee(be,o.__scopeSelect),[l,u]=r.useState(!1),s=L(n,c.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let a=function(){const p=i.scrollHeight-i.clientHeight,g=Math.ceil(i.scrollTop)<p;u(g)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),l?e.jsx(ot,{...o,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop+i.offsetHeight)}}):null});tt.displayName=be;var ot=r.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:c,...l}=o,u=q("SelectScrollButton",t),s=r.useRef(null),a=fe(t),i=r.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return r.useEffect(()=>()=>i(),[i]),G(()=>{a().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),e.jsx(_.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:j(l.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(c,50))}),onPointerMove:j(l.onPointerMove,()=>{u.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(c,50))}),onPointerLeave:j(l.onPointerLeave,()=>{i()})})}),fo="SelectSeparator",ho=r.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o;return e.jsx(_.div,{"aria-hidden":!0,...c,ref:n})});ho.displayName=fo;var Ie="SelectArrow",mo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o,l=he(t),u=Y(Ie,t),s=q(Ie,t);return u.open&&s.position==="popper"?e.jsx(It,{...l,...c,ref:n}):null});mo.displayName=Ie;var xo="SelectBubbleInput",nt=r.forwardRef(({__scopeSelect:o,value:n,...t},c)=>{const l=r.useRef(null),u=L(c,l),s=Kt(n);return r.useEffect(()=>{const a=l.current;if(!a)return;const i=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==n&&g){const S=new Event("change",{bubbles:!0});g.call(a,n),a.dispatchEvent(S)}},[s,n]),e.jsx(_.select,{...t,style:{...De,...t.style},ref:u,defaultValue:n})});nt.displayName=xo;function rt(o){return o===""||o===void 0}function st(o){const n=gt(o),t=r.useRef(""),c=r.useRef(0),l=r.useCallback(s=>{const a=t.current+s;n(a),function i(p){t.current=p,window.clearTimeout(c.current),p!==""&&(c.current=window.setTimeout(()=>i(""),1e3))}(a)},[n]),u=r.useCallback(()=>{t.current="",window.clearTimeout(c.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(c.current),[]),[t,l,u]}function at(o,n,t){const l=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,u=t?o.indexOf(t):-1;let s=go(o,Math.max(u,0));l.length===1&&(s=s.filter(p=>p!==t));const i=s.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return i!==t?i:void 0}function go(o,n){return o.map((t,c)=>o[(n+c)%o.length])}var vo=Oe,So=Le,wo=Ve,yo=He,Co=Ue,To=Fe,bo=$e,Io=Xe,No=Ze,jo=Qe,Eo=et,Po=tt;function _o({...o}){return e.jsx(vo,{"data-slot":"select",...o})}function Ro({...o}){return e.jsx(wo,{"data-slot":"select-value",...o})}function lt({className:o,size:n="default",children:t,...c}){return e.jsxs(So,{"data-slot":"select-trigger","data-size":n,className:oe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...c,children:[t,e.jsx(yo,{asChild:!0,children:e.jsx(Ae,{className:"size-4 opacity-50"})})]})}lt.propTypes={className:M.string,size:M.string,children:M.node};function ct({className:o,children:n,position:t="popper",...c}){return e.jsx(Co,{children:e.jsxs(To,{"data-slot":"select-content",className:oe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...c,children:[e.jsx(it,{}),e.jsx(bo,{className:oe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(dt,{})]})})}ct.propTypes={className:M.string,children:M.node,position:M.string};M.string;function de({className:o,children:n,...t}){return e.jsxs(Io,{"data-slot":"select-item",className:oe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(jo,{children:e.jsx(Ut,{className:"size-4"})})}),e.jsx(No,{children:n})]})}de.propTypes={className:M.string,children:M.node};M.string;function it({className:o,...n}){return e.jsx(Eo,{"data-slot":"select-scroll-up-button",className:oe("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Wt,{className:"size-4"})})}it.propTypes={className:M.string};function dt({className:o,...n}){return e.jsx(Po,{"data-slot":"select-scroll-down-button",className:oe("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Ae,{className:"size-4"})})}dt.propTypes={className:M.string};const ko=()=>{const[o,n]=r.useState([]),[t,c]=r.useState(!0),[l,u]=r.useState(""),[s,a]=r.useState(null),[i,p]=r.useState(!1),g=async()=>{c(!0);try{const m=await Rt();n(m.data)}catch{u("Failed to fetch users.")}finally{c(!1)}};r.useEffect(()=>{g()},[]);const S=m=>{a(m),p(!0)},I=async m=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await Mt(m),g()}catch(d){u(d.response?.data?.message||"Failed to delete user.")}},T=async()=>{try{await At(s._id,{role:s.role}),p(!1),g()}catch(m){u(m.response?.data?.message||"Failed to update user.")}};return t?e.jsx("div",{children:"Loading users..."}):l?e.jsx("div",{className:"text-red-500",children:l}):e.jsxs(e.Fragment,{children:[e.jsxs(Nt,{children:[e.jsx(jt,{children:e.jsx(Et,{children:"User Management"})}),e.jsx(Pt,{children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Name"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Email"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Role"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(m=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:m.name}),e.jsx("td",{className:"py-2 px-4",children:m.email}),e.jsx("td",{className:"py-2 px-4 capitalize",children:m.role}),e.jsxs("td",{className:"py-2 px-4 space-x-2",children:[e.jsx(ie,{variant:"outline",size:"sm",onClick:()=>S(m),children:"Edit"}),e.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>I(m._id),children:"Delete"})]})]},m._id))})]})})]}),e.jsx(Dt,{open:i,onOpenChange:p,children:e.jsxs(Ot,{children:[e.jsx(kt,{children:e.jsxs(Lt,{children:["Edit User: ",s?.name]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(_t,{children:"Role"}),e.jsxs(_o,{value:s?.role,onValueChange:m=>a(d=>({...d,role:m})),children:[e.jsx(lt,{children:e.jsx(Ro,{placeholder:"Select a role"})}),e.jsxs(ct,{children:[e.jsx(de,{value:"student",children:"Student"}),e.jsx(de,{value:"faculty",children:"Faculty"}),e.jsx(de,{value:"admin",children:"Admin"})]})]})]}),e.jsxs(Bt,{children:[e.jsx(Vt,{asChild:!0,children:e.jsx(ie,{variant:"ghost",children:"Cancel"})}),e.jsx(ie,{onClick:T,children:"Save Changes"})]})]})})]})};export{ko as default};
